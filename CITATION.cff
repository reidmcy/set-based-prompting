cff-version: 1.2.0
message: "This Repo contains the code for the paper 'Set-Based Prompting: Provably Solving the Language Model Order Dependency Problem', please cite this paper when using this code."
abstract: |
    "The development of generative language models that can create long and coherent textual outputs via autoregression has lead to a proliferation of uses and a corresponding sweep of analyses as researches work to determine the limitations of this new paradigm. Unlike humans, these 'Large Language Models' (LLMs) are highly sensitive to small changes in their inputs, leading to unwanted inconsistency in their behavior. One problematic inconsistency when LLMs are used to answer multiple-choice questions or analyze multiple inputs is order dependency: the output of an LLM can (and often does) change significantly when sub-sequences are swapped, despite both orderings being semantically identical. In this paper we present Set-Based Prompting, a technique that guarantees the output of an LLM will not have order dependence on a specified set of sub-sequences. We show that this method provably eliminates order dependency, and that it can be applied to any transformer-based LLM to enable text generation that is unaffected by re-orderings. Delving into the implications of our method, we show that, despite our inputs being out of distribution, the impact on expected accuracy is small, where the expectation is over the order of uniformly chosen shuffling of the candidate responses, and usually significantly less in practice. Thus Set-Based Prompting, can be used as a 'dropped-in' method on fully trained models. Finally, we discuss how our method's success suggests that other strong guarantees can be obtained on LLM performance via modifying the input representations. "
authors:
  -
    affiliation: "Universiy of Toronto"
    family-names: "McIlroy-Young"
    given-names: Reid
  -
    affiliation: "Microsoft Research"
    family-names: Sen
    given-names: Siddhartha
  -
    affiliation: "Cornell University"
    family-names: Kleinberg
    given-names: Jon
  -
    affiliation: "Universiy of Toronto"
    family-names: Anderson
    given-names: Ashton
cff-version: "1.2.0"
date-released: 2024-06-04
doi: "10.1145/3394486.3403219"
license: "MIT"
repository-code: "https://github.com/reidmcy/set-based-prompting"
url: "https://arxiv.org/abs/2406.06581"
title: "Set-Based Prompting"
version: "1.0.0"
preferred-citation:
  type: article
  authors:
    -
        affiliation: "Harvard University"
        family-names: "McIlroy-Young"
        given-names: Reid
    -
        affiliation: "Harvard University"
        family-names: Katrina
        given-names: Brown
    -
        affiliation: "Harvard University"
        family-names: Conlan
        given-names: Olson
    -
        affiliation: "Rutgers University"
        family-names: Linjun
        given-names: Zhang
    -
        affiliation: "Harvard University"
        family-names: Cynthia
        given-names: Dwork
  month: 6
  title: "Set-Based Prompting: Provably Solving the Language Model Order Dependency Problem"
  year: 2024
